<section class="px-5">
    <div class="mt-3">
        <h5>Receive Item</h5>
    </div>
    <hr>
    <div class="mt-3">
        <form #receive="ngForm" (ngSubmit)="onAddItems(receive)">
            <div class="row">
                <div class="col-md-2 mt-2">
                    <label class="form-label">Item</label>
                    <select class="form-select" ngModel name="item_id" #item_id="ngModel" required (change)="onGetNamesValue($event)">
                        <option value="">---Select Options---</option>
                        <option *ngFor="let i of item_master" [value]="i.id">{{i.name}}</option>
                    </select>
                </div>
                <div class="col-md-2 mt-2">
                    <label class="form-label">Vendors</label>
                    <select class="form-select" ngModel name="vendor" #vendor="ngModel" required (change)="onGetVendorNamesValue($event)">
                        <option value="">---Select Options---</option>
                        <option *ngFor="let v of vendors" [value]="v.id">{{v.name}}</option>
                    </select>
                </div>
                <div class="col-md-2 mt-2">
                    <label class="form-label">Opening Balance</label>
                    <input type="number" class="form-control" [disabled]="editableOB" [ngModel]="ob" name="opening_balance" #opening_balance="ngModel" required>
                </div>
                <div class="col-md-2 mt-2">
                    <label class="form-label">Quantity</label>
                    <input type="number" class="form-control" ngModel name="quantity_received" #quantity_received="ngModel" required>
                </div>
                <div class="col-md-2 mt-2">
                    <label class="form-label">Price Per Unit</label>
                    <input type="text" class="form-control" ngModel name="price_per_unit" #price_per_unit="ngModel" required>
                </div>
                <div class="col-md-2 mt-2">
                    <label class="form-label">Expiry Date</label>
                    <input type="date" class="form-control" ngModel name="expiry" #expiry="ngModel" required>
                </div>
                <div class="col-md-2 mt-2">
                    <label class="form-label">Minimum Order Value</label>
                    <input type="text" class="form-control" disabled [(ngModel)]="min" name="min_order" required>
                </div>
                <div class="col-md-8 mt-2">
                    <label class="form-label">Remarks</label>
                    <input type="text" class="form-control" ngModel name="remarks" #remarks="ngModel">
                </div>
            </div>
            <div class="text-end mt-3 mb-3">
                <button class="btn btn-primary" type="submit">Add</button>
            </div>
        </form>
    </div>
    <div class="table-responsive">
        <div class="text-end" *ngIf="items[0]">
            <button class="btn btn-primary mb-2" (click)="onSubmit();">Save</button>
        </div>
        <table class="table table-bordered" *ngIf="items[0]" style="margin-bottom: 30px;">
            <thead>
                <tr>
                    <th scope="col">S.No.</th>
                    <th scope="col">Item</th>
                    <th scope="color">Vendor</th>
                    <th scope="col">Opening Balance</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Price Per Unit</th>
                    <th scope="col">Expiry</th>
                    <th scope="col">Remarks</th>
                    <th scope="col">Operations</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let i of items; let id=index">
                    <td>{{ id+1 }}</td>
                    <td>{{ i.item_name }}</td>
                    <td>{{ i.vendor_name}}</td>
                    <td>{{ i.opening_balance }}</td>
                    <td>{{ i.quantity_received }}</td>
                    <td>{{ i.unit_price }}</td>
                    <td>{{ i.expiry_date | date: 'dd-MM-YYYY' }}</td>
                    <td>{{ i.remarks || '' }}</td>
                    <td><i class="bi bi-trash3 text-danger" (click)="onDeleteItem(i.item_name)"></i></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="alert alert-success mt-3" *ngIf="showSuccess === 'true'">
        Items Received Successfully
    </div>
</section>